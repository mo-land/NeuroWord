<div class="container mx-auto px-4 py-8">
  <div class="grid grid-cols-1 lg:grid-cols-8">
    <div class="lg:col-start-2 lg:col-span-6">
      <%= render('card_sets/breadcrumbs', action:'card_sets#edit') %>
      <div class="card bg-base-100 shadow-lg p-4">
      <h1 class="text-2xl font-bold text-left px-6 mb-2"><%= t('.title') %></h1>
          <%= render "card_sets/card_limit_info", question: @question %>

        <div class="card bg-base-100 shadow-lg">
          <div class="card-body">
            <%= form_with(model: @card_set, url: question_card_set_path(@question, @card_set), method: :patch, local: true) do |form| %>
            <%= render 'shared/error_messages', object: @card_set %>

              <div class="form-control mb-4">
                <%= form.label :origin_word do %>
                  <span class="label-text"><%= CardSet.human_attribute_name(:origin_word) %></span>
                <% end %>
                <%= form.text_field :origin_word,
                                class: "input input-bordered w-full",
                                placeholder: t('card_sets.new.origin_word_placeholder') %>
              </div>

              <div class="form-control mb-4">
                <label class="label">
                  <span class="label-text">関連語</span>
                </label>
                <% @card_set.related_words.each do |related_word| %>
                  <%= fields_for "origin_word[related_words][]", related_word do |rw_form| %>
                    <div id="related_word-<%= related_word.id %>" class="flex">
                      <%= link_to question_card_set_related_word_path(@question, @card_set, related_word), class:  "content-around",  data: { turbo_method: :delete, turbo_confirm: t('card_sets.card_set.related_word_delete_confirm') } do %>
                        <i class="fas fa-circle-xmark mx-3 text-error"></i>
                      <% end %>
                      <%= rw_form.text_field :related_word,
                                  class: "input input-bordered w-full mb-2",
                                  placeholder: t('card_sets.new.related_word_placeholder') %>
                    </div>
                  <% end %>
                <% end %>
              </div>

              <%= render 'card_sets/form_buttons', form: form, context: :card_sets_edit %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

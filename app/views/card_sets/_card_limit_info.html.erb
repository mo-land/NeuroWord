<div id="card_limit_info" class="card bg-base-200 mb-6">
  <div class="card-body">
    <div class="flex justify-between items-center">
      <div>
        <h3 class="card-title text-lg">
          <i class="fas fa-layer-group text-primary"></i>
          保存済みカード数: <%= question.total_cards_count %>/10枚
        </h3>
        <div class="text-sm text-base-content/80 pl-4">
          <p>残り<%= question.remaining_cards_count %>枚まで追加可能</p>
          <p>※起点カードも含まれます。</p>
        </div>
      </div>

      <div class="flex items-center gap-4">
        <!-- プログレスバー -->
        <div class="radial-progress text-primary" 
             style="--value:<%= (question.total_cards_count / 10.0 * 100).round %>;" 
             role="progressbar">
          <%= question.total_cards_count %>
        </div>

        <!-- ゲーム可能状態 -->
        <% if local_assigns[:show_game_status] != false %>
          <% if question.valid_for_game? %>
            <div class="badge badge-success gap-2">
              <i class="fas fa-check"></i>
              ゲーム可能
            </div>
          <% else %>
            <div class="badge badge-warning gap-2">
              <i class="fas fa-exclamation-triangle"></i>
              2組以上必要
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <% if local_assigns[:show_game_status] != false && !question.valid_for_game? %>
      <div class="alert alert-warning mt-4">
        <i class="fas fa-info-circle"></i>
        <span>ゲームを開始するには2組以上のカードセットが必要です</span>
      </div>
    <% end %>
  </div>
</div>